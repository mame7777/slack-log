# slackのログを保管するスクリプト
  
## 概要
SlackAPIを使用しログを取得し，MySQLに保存するスクリプトです．  
保存できるものは以下のものです．  
  
|種類|内容|
|---|---|
|チャンネル|チャンネルID，チャンネル名，チャンネルトピック，チャンネルの目的|
|ユーザー|ユーザーID，ユーザー名，ユーザーが登録した本名，低解像度ユーザーアイコンのURL|
|投稿|投稿のタイムスタンプ，投稿者のユーザーID，投稿したテキスト，投稿に対するリプライ数|
|リプライ|リプライのタイムスタンプ，リプライ投稿者のユーザーID，リプライしたテキスト|
  
## 使用方法  
### 初期設定
1. このリポジトリをクローンする．  
1. MySQLデータベース，SlackAPIトークンを用意する．
1. README.mdと同階層に.envファイルを配置し、下の表の内容を記述をする。  
1. 必要なライブラリを，requirements.txtを使用してインストールする．  
  
|変数|内容|
|---|---|
|SLACK_BOT_TOKEN|SlackのBotトークン|
|SLACK_APP_TOKEN|Slackのアプリトークン|
|WEB_HOOK_URL|SlackWEBHOOKのURL|
|DB_USER|MySQLのユーザー名|
|DB_PASSWORD|MySQLのパスワード|
|DB_HOST|MySQLのホストのアドレス|
|DB_NAME|MySQLのデータベース名|
  
  
### 実行方法
1. main.pyを実行する．  
1. SlackLogSave.shを実行する．（仮想環境が設定されている前提）  

### 実行確認済み環境
- Ubuntu22.04
- Python3.10
- MySQL8.0.32

## その他
お気持ち程度のスクリプトです．  
なにかあれば，issueにてお願いします．  
  